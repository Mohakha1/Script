-- الحصول على اللاعب وPlayerGui
local Player = game.Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")

-- إنشاء ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ArceusXMenu"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = PlayerGui

-- إنشاء الإطار الرئيسي للمنيو (يمكن تحريكه)
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BorderSizePixel = 0
mainFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
mainFrame.Size = UDim2.new(0, 400, 0, 300)
mainFrame.Parent = ScreenGui

-- إضافة عنوان للمنيو
local titleLabel = Instance.new("TextLabel")
titleLabel.Name = "Title"
titleLabel.BackgroundTransparency = 1
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.Size = UDim2.new(1, 0, 0, 50)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.Text = "Arceus X Menu"
titleLabel.TextColor3 = Color3.new(1, 1, 1)
titleLabel.TextScaled = true
titleLabel.Parent = mainFrame

-- حاوية الأزرار الخاصة بالتبويبات (Tabs)
local tabContainer = Instance.new("Frame")
tabContainer.Name = "TabContainer"
tabContainer.BackgroundTransparency = 1
tabContainer.Position = UDim2.new(0, 0, 0, 50)
tabContainer.Size = UDim2.new(1, 0, 0, 40)
tabContainer.Parent = mainFrame

-- حاوية المحتوى لكل تبويب
local contentContainer = Instance.new("Frame")
contentContainer.Name = "ContentContainer"
contentContainer.BackgroundTransparency = 1
contentContainer.Position = UDim2.new(0, 0, 0, 90)
contentContainer.Size = UDim2.new(1, 0, 1, -90)
contentContainer.Parent = mainFrame

----------------------------------------------------------------
-- إنشاء أزرار التبويبات (الرئيسية والإعدادات)
----------------------------------------------------------------
local ButtonTemplate = Instance.new("TextButton")
ButtonTemplate.Size = UDim2.new(0, 200, 1, 0)
ButtonTemplate.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
ButtonTemplate.BorderSizePixel = 0
ButtonTemplate.Font = Enum.Font.Gotham
ButtonTemplate.TextColor3 = Color3.new(1,1,1)
ButtonTemplate.TextScaled = true

local tabMainButton = ButtonTemplate:Clone()
tabMainButton.Name = "MainTabButton"
tabMainButton.Text = "الرئيسية"
tabMainButton.Parent = tabContainer
tabMainButton.Position = UDim2.new(0, 0, 0, 0)

local tabSettingsButton = ButtonTemplate:Clone()
tabSettingsButton.Name = "SettingsTabButton"
tabSettingsButton.Text = "الإعدادات"
tabSettingsButton.Parent = tabContainer
tabSettingsButton.Position = UDim2.new(0, 200, 0, 0)

----------------------------------------------------------------
-- إنشاء محتويات تبويب "الرئيسية"
----------------------------------------------------------------
local mainContent = Instance.new("Frame")
mainContent.Name = "MainContent"
mainContent.BackgroundTransparency = 1
mainContent.Size = UDim2.new(1, 0, 1, 0)
mainContent.Parent = contentContainer

-- زر لتفعيل Arceus X داخل المحتوى الرئيسي
local activateButton = Instance.new("TextButton")
activateButton.Name = "ActivateArceusX"
activateButton.Size = UDim2.new(0, 200, 0, 50)
activateButton.Position = UDim2.new(0.5, -100, 0.4, 0)
activateButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
activateButton.BorderSizePixel = 0
activateButton.Font = Enum.Font.GothamBold
activateButton.TextColor3 = Color3.new(1,1,1)
activateButton.TextScaled = true
activateButton.Text = "تفعيل Arceus X"
activateButton.Parent = mainContent

activateButton.MouseButton1Click:Connect(function()
    -- قم بتحميل سكربت Arceus X، استبدل الرابط بالرابط الصحيح إذا لزم الأمر
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ArceusXScript/main/ArceusX.lua", true))()
end)

----------------------------------------------------------------
-- إنشاء محتويات تبويب "الإعدادات"
----------------------------------------------------------------
local settingsContent = Instance.new("Frame")
settingsContent.Name = "SettingsContent"
settingsContent.BackgroundTransparency = 1
settingsContent.Size = UDim2.new(1, 0, 1, 0)
settingsContent.Parent = contentContainer
settingsContent.Visible = false -- إخفاء محتوى الإعدادات بشكل مبدئي

-- زر لتبديل الخلفية الديناميكية
local dynamicBGToggle = Instance.new("TextButton")
dynamicBGToggle.Name = "DynamicBGToggle"
dynamicBGToggle.Size = UDim2.new(0, 200, 0, 50)
dynamicBGToggle.Position = UDim2.new(0.5, -100, 0.3, 0)
dynamicBGToggle.BackgroundColor3 = Color3.fromRGB(70,70,70)
dynamicBGToggle.BorderSizePixel = 0
dynamicBGToggle.Font = Enum.Font.GothamBold
dynamicBGToggle.TextColor3 = Color3.new(1,1,1)
dynamicBGToggle.TextScaled = true
dynamicBGToggle.Text = "تبديل الخلفية"
dynamicBGToggle.Parent = settingsContent

local dynamicBGOn = false
dynamicBGToggle.MouseButton1Click:Connect(function()
    dynamicBGOn = not dynamicBGOn
    if dynamicBGOn then
        dynamicBGToggle.Text = "خلفية: تشغيل"
        spawn(function()
            while dynamicBGOn do 
                -- تغيير لون الخلفية باستخدام نظام HSV للحصول على ألوان متدرّجة
                mainFrame.BackgroundColor3 = Color3.fromHSV(tick() % 5 / 5, 0.8, 0.8)
                wait(0.1)
            end
        end)
    else
        dynamicBGToggle.Text = "تبديل الخلفية"
        mainFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
    end
end)

-- زر لإعادة تعيين الإعدادات الافتراضية
local resetButton = Instance.new("TextButton")
resetButton.Name = "ResetButton"
resetButton.Size = UDim2.new(0, 200, 0, 50)
resetButton.Position = UDim2.new(0.5, -100, 0.5, 0)
resetButton.BackgroundColor3 = Color3.fromRGB(70,70,70)
resetButton.BorderSizePixel = 0
resetButton.Font = Enum.Font.GothamBold
resetButton.TextColor3 = Color3.new(1,1,1)
resetButton.TextScaled = true
resetButton.Text = "إعادة تعيين"
resetButton.Parent = settingsContent

resetButton.MouseButton1Click:Connect(function()
    dynamicBGOn = false
    dynamicBGToggle.Text = "تبديل الخلفية"
    mainFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
    print("تم إعادة تعيين الإعدادات")
end)

----------------------------------------------------------------
-- تبديل تبويبات المنيو
----------------------------------------------------------------
tabMainButton.MouseButton1Click:Connect(function()
    mainContent.Visible = true
    settingsContent.Visible = false
    tabMainButton.BackgroundColor3 = Color3.fromRGB(80,80,80)
    tabSettingsButton.BackgroundColor3 = Color3.fromRGB(50,50,50)
end)

tabSettingsButton.MouseButton1Click:Connect(function()
    mainContent.Visible = false
    settingsContent.Visible = true
    tabMainButton.BackgroundColor3 = Color3.fromRGB(50,50,50)
    tabSettingsButton.BackgroundColor3 = Color3.fromRGB(80,80,80)
end)

----------------------------------------------------------------
-- وظيفة سحب الإطار (دراج آند دبل)
----------------------------------------------------------------
local UserInputService = game:GetService("UserInputService")
local dragging = false
local dragInput, dragStart, startPos

local function update(input)
    local delta = input.Position - dragStart
    mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)
mainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)
